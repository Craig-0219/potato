name: ğŸ“Š Deployment Status Monitor

on:
  schedule:
    # æ¯30åˆ†é˜æª¢æŸ¥ä¸€æ¬¡éƒ¨ç½²ç‹€æ…‹
    - cron: '*/30 * * * *'
  workflow_dispatch:
    inputs:
      check_type:
        description: 'æª¢æŸ¥é¡å‹'
        required: false
        default: 'all'
        type: choice
        options:
          - 'all'
          - 'ptero_only'
          - 'main_only'
      send_notification:
        description: 'ç™¼é€é€šçŸ¥ (å³ä½¿ç‹€æ…‹æ­£å¸¸)'
        required: false
        default: false
        type: boolean

env:
  PYTHON_VERSION: '3.10'

jobs:
  # ==========================================
  # éšæ®µ 1: æ”¶é›†éƒ¨ç½²ç‹€æ…‹è³‡è¨Š
  # ==========================================
  collect-deployment-status:
    name: ğŸ“‹ Collect Deployment Status
    runs-on: ubuntu-latest
    outputs:
      ptero_status: ${{ steps.ptero.outputs.status }}
      ptero_commit: ${{ steps.ptero.outputs.commit }}
      ptero_deploy_time: ${{ steps.ptero.outputs.deploy_time }}
      main_status: ${{ steps.main.outputs.status }}
      main_commit: ${{ steps.main.outputs.commit }}
      sync_status: ${{ steps.sync.outputs.status }}
      health_score: ${{ steps.health.outputs.score }}

    steps:
      - name: Checkout repository
        uses: actions/checkout@v4
        with:
          fetch-depth: 10

      - name: ğŸ¯ æª¢æŸ¥ Ptero åˆ†æ”¯ç‹€æ…‹
        id: ptero
        run: |
          echo "ğŸ¯ æª¢æŸ¥ Ptero åˆ†æ”¯ç‹€æ…‹..."
          
          # æª¢æŸ¥ ptero åˆ†æ”¯æ˜¯å¦å­˜åœ¨
          if git show-ref --verify --quiet refs/remotes/origin/ptero; then
            git checkout ptero
            ptero_commit=$(git rev-parse HEAD)
            ptero_status="active"
            
            # æª¢æŸ¥éƒ¨ç½²è³‡è¨Šæ–‡ä»¶
            if [ -f ".ptero_deploy_info.json" ]; then
              deploy_time=$(jq -r '.deploy_time // "unknown"' .ptero_deploy_info.json)
              echo "deploy_time=$deploy_time" >> $GITHUB_OUTPUT
            else
              deploy_time=$(git log -1 --format='%cd' --date=iso)
              echo "deploy_time=$deploy_time" >> $GITHUB_OUTPUT
            fi
            
            # æª¢æŸ¥é—œéµæ–‡ä»¶å®Œæ•´æ€§
            required_files=("bot/main.py" "requirements.txt" ".env.example" "start.py")
            missing_count=0
            
            for file in "${required_files[@]}"; do
              if [ ! -f "$file" ]; then
                missing_count=$((missing_count + 1))
              fi
            done
            
            if [ $missing_count -gt 0 ]; then
              ptero_status="incomplete"
              echo "âš ï¸ Ptero åˆ†æ”¯ç¼ºå¤± $missing_count å€‹é—œéµæ–‡ä»¶"
            fi
            
          else
            ptero_commit="not_found"
            ptero_status="missing"
            echo "deploy_time=never" >> $GITHUB_OUTPUT
            echo "âŒ Ptero åˆ†æ”¯ä¸å­˜åœ¨"
          fi
          
          echo "status=$ptero_status" >> $GITHUB_OUTPUT
          echo "commit=$ptero_commit" >> $GITHUB_OUTPUT
          
          echo "ğŸ“Š Ptero åˆ†æ”¯ç‹€æ…‹: $ptero_status (Commit: $ptero_commit)"

      - name: ğŸ¯ æª¢æŸ¥ Main åˆ†æ”¯ç‹€æ…‹
        id: main
        run: |
          echo "ğŸ¯ æª¢æŸ¥ Main åˆ†æ”¯ç‹€æ…‹..."
          
          git checkout main
          main_commit=$(git rev-parse HEAD)
          main_status="active"
          
          # æª¢æŸ¥æœ€è¿‘çš„æäº¤æ™‚é–“
          last_commit_time=$(git log -1 --format='%ct')
          current_time=$(date +%s)
          hours_since_commit=$(( (current_time - last_commit_time) / 3600 ))
          
          if [ $hours_since_commit -gt 168 ]; then  # è¶…é7å¤©
            main_status="stale"
            echo "âš ï¸ Main åˆ†æ”¯è¶…é7å¤©æœªæ›´æ–° ($hours_since_commit å°æ™‚)"
          fi
          
          echo "status=$main_status" >> $GITHUB_OUTPUT
          echo "commit=$main_commit" >> $GITHUB_OUTPUT
          
          echo "ğŸ“Š Main åˆ†æ”¯ç‹€æ…‹: $main_status (Commit: $main_commit)"

      - name: ğŸ”„ æª¢æŸ¥åˆ†æ”¯åŒæ­¥ç‹€æ…‹
        id: sync
        run: |
          echo "ğŸ”„ æª¢æŸ¥ Main å’Œ Ptero åˆ†æ”¯åŒæ­¥ç‹€æ…‹..."
          
          main_commit="${{ steps.main.outputs.commit }}"
          ptero_commit="${{ steps.ptero.outputs.commit }}"
          sync_status="unknown"
          
          if [ "$ptero_commit" = "not_found" ]; then
            sync_status="ptero_missing"
          elif [ "$main_commit" = "$ptero_commit" ]; then
            sync_status="synced"
          else
            # æª¢æŸ¥å“ªå€‹åˆ†æ”¯æ›´æ–°
            if git merge-base --is-ancestor $ptero_commit $main_commit 2>/dev/null; then
              sync_status="main_ahead"
              commits_ahead=$(git rev-list --count $ptero_commit..$main_commit)
              echo "ğŸ“ˆ Main åˆ†æ”¯é ˜å…ˆ $commits_ahead å€‹æäº¤"
            elif git merge-base --is-ancestor $main_commit $ptero_commit 2>/dev/null; then
              sync_status="ptero_ahead"  # ä¸å¤ªå¯èƒ½ï¼Œä½†ç†è«–ä¸Šå¯èƒ½
              echo "âš ï¸ Ptero åˆ†æ”¯é ˜å…ˆ Main åˆ†æ”¯ï¼ˆç•°å¸¸ç‹€æ³ï¼‰"
            else
              sync_status="diverged"
              echo "ğŸš¨ åˆ†æ”¯å·²åˆ†æ­§ï¼Œéœ€è¦æ‰‹å‹•è™•ç†"
            fi
          fi
          
          echo "status=$sync_status" >> $GITHUB_OUTPUT
          echo "ğŸ“Š åŒæ­¥ç‹€æ…‹: $sync_status"

      - name: ğŸ¥ è¨ˆç®—ç³»çµ±å¥åº·åˆ†æ•¸
        id: health
        run: |
          echo "ğŸ¥ è¨ˆç®—ç³»çµ±å¥åº·åˆ†æ•¸..."
          
          score=100
          ptero_status="${{ steps.ptero.outputs.status }}"
          main_status="${{ steps.main.outputs.status }}"
          sync_status="${{ steps.sync.outputs.status }}"
          
          # æ ¹æ“šå„é …ç‹€æ…‹èª¿æ•´åˆ†æ•¸
          case "$ptero_status" in
            "active") score=$((score - 0)) ;;
            "incomplete") score=$((score - 20)) ;;
            "missing") score=$((score - 50)) ;;
          esac
          
          case "$main_status" in
            "active") score=$((score - 0)) ;;
            "stale") score=$((score - 10)) ;;
          esac
          
          case "$sync_status" in
            "synced") score=$((score - 0)) ;;
            "main_ahead") score=$((score - 15)) ;;
            "ptero_missing") score=$((score - 30)) ;;
            "diverged") score=$((score - 40)) ;;
          esac
          
          # ç¢ºä¿åˆ†æ•¸ä¸æœƒä½æ–¼0
          if [ $score -lt 0 ]; then
            score=0
          fi
          
          echo "score=$score" >> $GITHUB_OUTPUT
          
          # æ ¹æ“šåˆ†æ•¸åˆ¤æ–·å¥åº·ç­‰ç´š
          if [ $score -ge 90 ]; then
            health_level="excellent"
            health_emoji="ğŸŸ¢"
          elif [ $score -ge 70 ]; then
            health_level="good"  
            health_emoji="ğŸŸ¡"
          elif [ $score -ge 50 ]; then
            health_level="warning"
            health_emoji="ğŸŸ "
          else
            health_level="critical"
            health_emoji="ğŸ”´"
          fi
          
          echo "ğŸ“Š ç³»çµ±å¥åº·åˆ†æ•¸: $score/100 ($health_level $health_emoji)"

  # ==========================================
  # éšæ®µ 2: ç”Ÿæˆç›£æ§å ±å‘Š
  # ==========================================
  generate-monitor-report:
    name: ğŸ“Š Generate Monitor Report
    runs-on: ubuntu-latest
    needs: collect-deployment-status
    
    steps:
      - name: ğŸ“‹ ç”Ÿæˆéƒ¨ç½²ç‹€æ…‹å ±å‘Š
        run: |
          echo "ğŸ“‹ ç”Ÿæˆéƒ¨ç½²ç‹€æ…‹ç›£æ§å ±å‘Š..."
          echo "=============================================="
          echo "ğŸ• ç›£æ§æ™‚é–“: $(date -u '+%Y-%m-%d %H:%M:%S UTC')"
          echo "ğŸ”„ æª¢æŸ¥é¡å‹: ${{ github.event.inputs.check_type || 'scheduled' }}"
          echo "=============================================="
          
          # ç³»çµ±æ•´é«”ç‹€æ…‹
          health_score="${{ needs.collect-deployment-status.outputs.health_score }}"
          echo ""
          echo "ğŸ¥ ç³»çµ±å¥åº·ç‹€æ…‹ï¼š"
          echo "   å¥åº·åˆ†æ•¸: $health_score/100"
          
          if [ $health_score -ge 90 ]; then
            echo "   ç‹€æ…‹ç­‰ç´š: å„ªç§€ ğŸŸ¢"
          elif [ $health_score -ge 70 ]; then
            echo "   ç‹€æ…‹ç­‰ç´š: è‰¯å¥½ ğŸŸ¡"
          elif [ $health_score -ge 50 ]; then
            echo "   ç‹€æ…‹ç­‰ç´š: è­¦å‘Š ğŸŸ "
          else
            echo "   ç‹€æ…‹ç­‰ç´š: å±æ€¥ ğŸ”´"
          fi
          
          # å„åˆ†æ”¯è©³ç´°ç‹€æ…‹
          echo ""
          echo "ğŸ“Š åˆ†æ”¯ç‹€æ…‹è©³æƒ…ï¼š"
          echo "   Main åˆ†æ”¯: ${{ needs.collect-deployment-status.outputs.main_status }}"
          echo "   Main Commit: ${{ needs.collect-deployment-status.outputs.main_commit }}"
          echo "   Ptero åˆ†æ”¯: ${{ needs.collect-deployment-status.outputs.ptero_status }}"
          echo "   Ptero Commit: ${{ needs.collect-deployment-status.outputs.ptero_commit }}"
          echo "   æœ€å¾Œéƒ¨ç½²: ${{ needs.collect-deployment-status.outputs.ptero_deploy_time }}"
          
          # åŒæ­¥ç‹€æ…‹
          echo ""
          echo "ğŸ”„ åŒæ­¥ç‹€æ…‹ï¼š"
          sync_status="${{ needs.collect-deployment-status.outputs.sync_status }}"
          echo "   ç‹€æ…‹: $sync_status"
          
          case "$sync_status" in
            "synced")
              echo "   ğŸ“ Main å’Œ Ptero åˆ†æ”¯å®Œå…¨åŒæ­¥ âœ…"
              ;;
            "main_ahead") 
              echo "   ğŸ“ Main åˆ†æ”¯æœ‰æ–°çš„æäº¤å¾…éƒ¨ç½² â³"
              echo "   ğŸ’¡ å»ºè­°: å¦‚æœè®Šæ›´å·²æ¸¬è©¦å®Œæˆï¼Œå¯è€ƒæ…®è§¸ç™¼éƒ¨ç½²"
              ;;
            "ptero_missing")
              echo "   ğŸ“ Ptero åˆ†æ”¯ä¸å­˜åœ¨ âŒ"
              echo "   ğŸš¨ è­¦å‘Š: é€™æœƒå°è‡´éƒ¨ç½²å¤±æ•—"
              ;;
            "diverged")
              echo "   ğŸ“ åˆ†æ”¯å·²åˆ†æ­§ï¼Œéœ€è¦æ‰‹å‹•è™•ç† ğŸš¨"
              echo "   ğŸ› ï¸ éœ€è¦: ç«‹å³é€²è¡Œåˆ†æ”¯åŒæ­¥æˆ–å›æ»¾æ“ä½œ"
              ;;
          esac
          
          echo "=============================================="

      - name: ğŸš¨ æª¢æŸ¥æ˜¯å¦éœ€è¦è­¦å ±
        id: alert
        run: |
          health_score="${{ needs.collect-deployment-status.outputs.health_score }}"
          sync_status="${{ needs.collect-deployment-status.outputs.sync_status }}"
          send_notification="${{ github.event.inputs.send_notification }}"
          
          need_alert="false"
          alert_level="info"
          alert_reason=""
          
          # åˆ¤æ–·æ˜¯å¦éœ€è¦ç™¼é€è­¦å ±
          if [ $health_score -lt 70 ]; then
            need_alert="true"
            alert_level="warning"
            alert_reason="ç³»çµ±å¥åº·åˆ†æ•¸ä½æ–¼70åˆ†"
          fi
          
          if [ "$sync_status" = "diverged" ] || [ "$sync_status" = "ptero_missing" ]; then
            need_alert="true"
            alert_level="critical"
            alert_reason="åˆ†æ”¯åŒæ­¥ç‹€æ…‹ç•°å¸¸"
          fi
          
          if [ "$send_notification" = "true" ]; then
            need_alert="true"
            alert_reason="æ‰‹å‹•è§¸ç™¼é€šçŸ¥"
          fi
          
          echo "need_alert=$need_alert" >> $GITHUB_OUTPUT
          echo "alert_level=$alert_level" >> $GITHUB_OUTPUT
          echo "alert_reason=$alert_reason" >> $GITHUB_OUTPUT
          
          if [ "$need_alert" = "true" ]; then
            echo "ğŸš¨ éœ€è¦ç™¼é€è­¦å ±: $alert_reason (ç­‰ç´š: $alert_level)"
          else
            echo "âœ… ç³»çµ±ç‹€æ…‹æ­£å¸¸ï¼Œç„¡éœ€è­¦å ±"
          fi

      - name: ğŸ“ˆ ç”Ÿæˆè¶¨å‹¢åˆ†æ
        run: |
          echo "ğŸ“ˆ éƒ¨ç½²è¶¨å‹¢åˆ†æ..."
          echo "================================"
          
          # åˆ†ææœ€è¿‘çš„éƒ¨ç½²æ´»å‹•
          ptero_deploy_time="${{ needs.collect-deployment-status.outputs.ptero_deploy_time }}"
          
          if [ "$ptero_deploy_time" != "never" ] && [ "$ptero_deploy_time" != "unknown" ]; then
            # è¨ˆç®—ä¸Šæ¬¡éƒ¨ç½²åˆ°ç¾åœ¨çš„æ™‚é–“
            if command -v date >/dev/null 2>&1; then
              if [[ "$ptero_deploy_time" =~ ^[0-9]{4}-[0-9]{2}-[0-9]{2} ]]; then
                deploy_timestamp=$(date -d "$ptero_deploy_time" +%s 2>/dev/null || date +%s)
                current_timestamp=$(date +%s)
                hours_since_deploy=$(( (current_timestamp - deploy_timestamp) / 3600 ))
                
                echo "â° ä¸Šæ¬¡éƒ¨ç½²: $hours_since_deploy å°æ™‚å‰"
                
                if [ $hours_since_deploy -lt 24 ]; then
                  echo "âœ… éƒ¨ç½²æ´»å‹•: è¿‘æœŸæ´»èº"
                elif [ $hours_since_deploy -lt 168 ]; then
                  echo "ğŸŸ¡ éƒ¨ç½²æ´»å‹•: æœ¬é€±å…§æœ‰æ´»å‹•"
                else
                  echo "ğŸ”´ éƒ¨ç½²æ´»å‹•: è¶…éä¸€é€±æœªéƒ¨ç½²"
                fi
              fi
            fi
          else
            echo "âŒ éƒ¨ç½²æ´»å‹•: ç„¡éƒ¨ç½²è¨˜éŒ„"
          fi
          
          echo "================================"

  # ==========================================
  # éšæ®µ 3: è‡ªå‹•ä¿®å¾©å»ºè­°
  # ==========================================
  auto-fix-suggestions:
    name: ğŸ”§ Auto-fix Suggestions
    runs-on: ubuntu-latest
    needs: [collect-deployment-status, generate-monitor-report]
    if: needs.collect-deployment-status.outputs.health_score < 90
    
    steps:
      - name: ğŸ”§ ç”Ÿæˆè‡ªå‹•ä¿®å¾©å»ºè­°
        run: |
          echo "ğŸ”§ ç”Ÿæˆè‡ªå‹•ä¿®å¾©å»ºè­°..."
          echo "=================================="
          
          ptero_status="${{ needs.collect-deployment-status.outputs.ptero_status }}"
          sync_status="${{ needs.collect-deployment-status.outputs.sync_status }}"
          health_score="${{ needs.collect-deployment-status.outputs.health_score }}"
          
          echo "ğŸ“Š ç•¶å‰å¥åº·åˆ†æ•¸: $health_score/100"
          echo ""
          echo "ğŸ› ï¸ å»ºè­°çš„ä¿®å¾©æ“ä½œï¼š"
          
          case "$ptero_status" in
            "missing")
              echo "1. ğŸš¨ ç«‹å³åŸ·è¡Œ: æ‰‹å‹•è§¸ç™¼ deploy-to-ptero workflow"
              echo "   å‘½ä»¤: åœ¨ GitHub Actions é é¢æ‰‹å‹•è§¸ç™¼éƒ¨ç½²"
              echo ""
              ;;
            "incomplete")
              echo "1. âš ï¸ æª¢æŸ¥ Ptero åˆ†æ”¯æ–‡ä»¶å®Œæ•´æ€§"
              echo "   å‘½ä»¤: æª¢æŸ¥ bot/main.py, requirements.txt ç­‰é—œéµæ–‡ä»¶"
              echo ""
              ;;
          esac
          
          case "$sync_status" in
            "main_ahead")
              echo "2. ğŸ“¤ å»ºè­°åŸ·è¡Œ: éƒ¨ç½²æœ€æ–°çš„ Main åˆ†æ”¯åˆ° Ptero"
              echo "   æ“ä½œ: æ‰‹å‹•è§¸ç™¼ deploy-to-ptero workflow"
              echo "   é æœŸæ•ˆæœ: å°‡å¥åº·åˆ†æ•¸æå‡ 15 åˆ†"
              echo ""
              ;;
            "diverged")
              echo "2. ğŸš¨ ç·Šæ€¥æ“ä½œ: ä¿®å¾©åˆ†æ”¯åˆ†æ­§"
              echo "   é¸é … A: ä½¿ç”¨ emergency-ptero-rollback workflow"
              echo "   é¸é … B: æ‰‹å‹•åŒæ­¥åˆ†æ”¯"
              echo "   é æœŸæ•ˆæœ: å°‡å¥åº·åˆ†æ•¸æå‡ 40 åˆ†"
              echo ""
              ;;
          esac
          
          # æä¾›å…·é«”çš„å·¥ä½œæµç¨‹è§¸ç™¼é€£çµ
          echo "ğŸ”— å¿«é€Ÿæ“ä½œé€£çµï¼š"
          echo "   éƒ¨ç½²å·¥ä½œæµç¨‹: https://github.com/${{ github.repository }}/actions/workflows/deploy-to-ptero.yml"
          echo "   ç·Šæ€¥å›æ»¾: https://github.com/${{ github.repository }}/actions/workflows/emergency-ptero-rollback.yml"
          echo ""
          
          # é æ¸¬ä¿®å¾©å¾Œçš„åˆ†æ•¸
          estimated_score=$health_score
          
          if [ "$ptero_status" = "missing" ]; then
            estimated_score=$((estimated_score + 50))
          elif [ "$ptero_status" = "incomplete" ]; then
            estimated_score=$((estimated_score + 20))
          fi
          
          if [ "$sync_status" = "main_ahead" ]; then
            estimated_score=$((estimated_score + 15))
          elif [ "$sync_status" = "diverged" ]; then
            estimated_score=$((estimated_score + 40))
          fi
          
          if [ $estimated_score -gt 100 ]; then
            estimated_score=100
          fi
          
          echo "ğŸ“Š ä¿®å¾©å¾Œé æœŸå¥åº·åˆ†æ•¸: $estimated_score/100"
          echo "=================================="

      - name: ğŸ“‹ è¨˜éŒ„ç›£æ§çµæœ
        run: |
          echo "ğŸ“‹ è¨˜éŒ„æœ¬æ¬¡ç›£æ§çµæœåˆ°ç³»çµ±æ—¥èªŒ..."
          
          # å‰µå»ºç›£æ§æ—¥èªŒæ¢ç›®
          cat > monitor_result.json << EOF
          {
            "timestamp": "$(date -u +%Y-%m-%dT%H:%M:%SZ)",
            "health_score": ${{ needs.collect-deployment-status.outputs.health_score }},
            "ptero_status": "${{ needs.collect-deployment-status.outputs.ptero_status }}",
            "main_status": "${{ needs.collect-deployment-status.outputs.main_status }}",
            "sync_status": "${{ needs.collect-deployment-status.outputs.sync_status }}",
            "ptero_commit": "${{ needs.collect-deployment-status.outputs.ptero_commit }}",
            "main_commit": "${{ needs.collect-deployment-status.outputs.main_commit }}",
            "monitor_run_id": "${{ github.run_id }}",
            "check_type": "${{ github.event.inputs.check_type || 'scheduled' }}"
          }
          EOF
          
          echo "âœ… ç›£æ§çµæœå·²è¨˜éŒ„"
          echo "ğŸ“„ ç›£æ§æ•¸æ“š:"
          cat monitor_result.json | python3 -m json.tool

  # ==========================================
  # éšæ®µ 4: é€šçŸ¥ç¸½çµ
  # ==========================================
  notification-summary:
    name: ğŸ“¢ Notification Summary
    runs-on: ubuntu-latest
    needs: [collect-deployment-status, generate-monitor-report, auto-fix-suggestions]
    if: always()
    
    steps:
      - name: ğŸ“Š ç›£æ§ç¸½çµ
        run: |
          echo "ğŸ“Š éƒ¨ç½²ç›£æ§ç¸½çµå ±å‘Š"
          echo "================================================="
          echo "ğŸ• ç›£æ§æ™‚é–“: $(date -u '+%Y-%m-%d %H:%M:%S UTC')"
          echo "ğŸ”„ ç›£æ§å·¥ä½œæµç¨‹ ID: ${{ github.run_id }}"
          echo "================================================="
          
          health_score="${{ needs.collect-deployment-status.outputs.health_score }}"
          ptero_status="${{ needs.collect-deployment-status.outputs.ptero_status }}"
          sync_status="${{ needs.collect-deployment-status.outputs.sync_status }}"
          
          echo "ğŸ“ˆ ç³»çµ±å¥åº·ç‹€æ³:"
          echo "   å¥åº·åˆ†æ•¸: $health_score/100"
          echo "   Ptero åˆ†æ”¯: $ptero_status"
          echo "   åŒæ­¥ç‹€æ…‹: $sync_status"
          echo ""
          
          # ç‹€æ…‹èªªæ˜
          if [ $health_score -ge 90 ]; then
            echo "âœ… ç³»çµ±ç‹€æ…‹å„ªç§€ï¼Œç„¡éœ€äººå·¥å¹²é "
          elif [ $health_score -ge 70 ]; then
            echo "ğŸŸ¡ ç³»çµ±ç‹€æ…‹è‰¯å¥½ï¼Œå»ºè­°é—œæ³¨"
          elif [ $health_score -ge 50 ]; then
            echo "ğŸŸ  ç³»çµ±ç‹€æ…‹è­¦å‘Šï¼Œå»ºè­°å„˜å¿«è™•ç†"
          else
            echo "ğŸ”´ ç³»çµ±ç‹€æ…‹å±æ€¥ï¼Œéœ€è¦ç«‹å³è™•ç†"
          fi
          
          echo ""
          echo "ğŸ“‹ ä¸‹æ¬¡ç›£æ§: 30 åˆ†é˜å¾Œ (è‡ªå‹•åŸ·è¡Œ)"
          echo "ğŸ”— ç›£æ§æ—¥èªŒ: https://github.com/${{ github.repository }}/actions/runs/${{ github.run_id }}"
          echo "================================================="