name: ğŸ—ï¸ Build Validation

on:
  pull_request:
    branches: [main, develop]
  push:
    branches: [main, develop]
  workflow_dispatch:

env:
  PYTHON_VERSION: '3.10'

jobs:
  python-build:
    name: ğŸ Python å»ºæ§‹é©—è­‰
    runs-on: ubuntu-latest
    timeout-minutes: 15
    
    steps:
    - name: ğŸ“¥ æª¢å‡ºç¨‹å¼ç¢¼
      uses: actions/checkout@v4
    
    - name: ğŸ è¨­ç½® Python
      uses: actions/setup-python@v4
      with:
        python-version: ${{ env.PYTHON_VERSION }}
        cache: 'pip'
    
    - name: ğŸ“¦ å®‰è£ä¾è³´
      run: |
        python -m pip install --upgrade pip
        pip install -r requirements.txt
    
    - name: ğŸ” é©—è­‰å®‰è£
      run: |
        echo "âœ… Python ç’°å¢ƒè¨­ç½®å®Œæˆ"
        python --version

  build-summary:
    name: ğŸ å»ºæ§‹ç¸½çµ
    needs: [python-build]
    runs-on: ubuntu-latest
    if: always()
    timeout-minutes: 5
    
    steps:
    - name: ğŸ“‹ å»ºæ§‹çµæœç¸½çµ
      run: |
        echo "ğŸ—ï¸ å»ºæ§‹é©—è­‰å®Œæˆç¸½çµ"
        echo "âœ… Python å»ºæ§‹ - ${{ needs.python-build.result }}"
        echo "ğŸ‰ å»ºæ§‹é©—è­‰éšæ®µå®Œæˆ!"