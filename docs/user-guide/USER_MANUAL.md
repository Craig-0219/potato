# 📖 Potato Bot 完整功能使用手冊

歡迎使用 Potato Bot！本手冊將詳細介紹所有系統功能的使用方法，幫助您快速掌握系統的各項操作。

## 📚 目錄

1. [🎫 票券系統使用指南](#票券系統使用指南)
2. [🗳️ 投票系統使用指南](#投票系統使用指南)
3. [🎲 抽獎系統使用指南](#抽獎系統使用指南)
4. [🤖 AI 輔助功能使用指南](#ai-輔助功能使用指南)
5. [⚙️ 工作流程系統使用指南](#工作流程系統使用指南)
6. [🔗 Webhook 整合使用指南](#webhook-整合使用指南)
7. [📊 分析儀表板使用指南](#分析儀表板使用指南)
8. [🌍 多語言系統使用指南](#多語言系統使用指南)
9. [🔧 系統管理使用指南](#系統管理使用指南)
10. [🌐 Web 介面使用指南](#web-介面使用指南)
11. [🔐 認證與權限管理](#認證與權限管理)

---

## 🎫 票券系統使用指南

票券系統是 Potato Bot 的核心功能，提供完整的客服支援流程。

### 🎯 基本概念

**票券生命週期：**
```
創建 → 待處理 → 處理中 → 等待回覆 → 已解決 → 已關閉
```

**優先級系統：**
- 🔴 **緊急 (Urgent)** - 系統故障、安全問題
- 🟠 **高 (High)** - 重要功能問題
- 🟡 **中 (Medium)** - 一般問題（預設）
- 🟢 **低 (Low)** - 建議、非緊急問題

### 👤 用戶操作

#### 創建票券
使用 Discord 中的票券按鈕或面板：

1. **點擊票券面板中的相應按鈕**
2. **填寫票券資訊：**
   - 選擇票券類型（技術支援、帳戶問題、一般詢問等）
   - 輸入問題標題
   - 詳細描述問題
   - 選擇優先級（如有權限）

3. **提交後系統會自動：**
   - 創建專屬的 Discord 頻道
   - 分配唯一的票券 ID
   - 記錄創建時間
   - 根據類型自動分配給相應的客服

#### 查看票券狀態
```
/ticket_info [ticket_id]
```
- 查看票券詳細資訊
- 追蹤處理進度
- 查看指派的客服人員

#### 關閉票券
```
/close [關閉原因]
```
- 在票券頻道中使用此指令
- 可選填關閉原因
- 系統會要求評分（1-5星）

#### 票券評分
票券關閉後，系統會自動提示評分：
- ⭐⭐⭐⭐⭐ 非常滿意
- ⭐⭐⭐⭐ 滿意
- ⭐⭐⭐ 普通
- ⭐⭐ 不滿意
- ⭐ 非常不滿意

### 👨‍💼 客服操作

#### 查看票券列表
```
/tickets [狀態篩選]
```
- `open` - 待處理票券
- `in_progress` - 處理中票券
- `pending` - 等待用戶回覆
- `all` - 所有票券

#### 設定優先級
```
/set_priority [ticket_id] [優先級]
```
優先級選項：`urgent`, `high`, `medium`, `low`

#### 添加標籤
```
/add_tag [票券ID] [標籤名稱]
```
常用標籤：
- `bug` - 程序錯誤
- `feature` - 功能請求
- `account` - 帳戶相關
- `technical` - 技術問題
- `billing` - 計費問題

#### 票券指派
```
!assign_ticket [票券ID] @客服人員
```
或使用自動指派：
```
!auto_assign [票券ID]
```

### 🏷️ 高級標籤功能

#### 標籤管理
```
!tag create [標籤名稱] [顏色] [描述]
!tag delete [標籤名稱]
!tag list
```

#### 自動標籤規則
系統可以根據關鍵字自動添加標籤：
- 包含「登入」→ 自動添加 `login` 標籤
- 包含「付款」→ 自動添加 `billing` 標籤
- 包含「錯誤」→ 自動添加 `bug` 標籤

### 📊 票券統計

#### 實時統計
```
/realtime_stats
```
顯示：
- 當前待處理票券數
- 平均回應時間
- 今日已解決票券
- 客服工作負載

#### 客服績效統計
```
!assignment_stats [天數]
```
包含：
- 每位客服處理的票券數量
- 平均解決時間
- 客戶滿意度評分
- 工作負載分佈

---

## 🗳️ 投票系統使用指南

投票系統提供多樣化的社群決策工具，支援各種投票類型和權限控制。

### 🎯 投票類型

#### 1. 單選投票
最常見的投票類型，每人只能選擇一個選項。

#### 2. 多選投票
允許參與者選擇多個選項。

#### 3. 評分投票
參與者對每個選項進行評分（1-5星）。

#### 4. 排序投票
參與者對選項進行排序，系統自動計算最佳結果。

### 📝 創建投票

#### 基本投票創建
```
/vote
```
系統會引導您完成：
1. **投票標題** - 清楚描述投票主題
2. **投票選項** - 添加 2-10 個選項
3. **投票類型** - 選擇投票方式
4. **持續時間** - 設定投票結束時間
5. **權限設定** - 決定誰可以參與

#### 高級設定選項
- **匿名投票** - 隱藏投票者身份
- **結果可見性** - 設定結果何時可見
- **角色限制** - 限制特定角色參與
- **最低參與人數** - 設定投票有效的最少人數

### 👥 參與投票

#### 查看可用投票
```
/votes
```
顯示所有進行中的投票，包括：
- 投票標題和描述
- 剩餘時間
- 當前參與人數
- 是否已投票

#### 查看投票詳情
```
/vote_detail [投票ID]
```
顯示：
- 詳細投票資訊
- 當前結果（如允許查看）
- 參與統計
- 評論區

#### 查看投票結果
```
/vote_result [投票ID]
```
- 最終結果統計
- 參與者分析
- 投票趨勢圖表

### 📊 投票管理

#### 管理員功能
```
/vote_admin
```
提供管理面板：
- 查看所有投票狀態
- 強制結束投票
- 查看投票統計
- 管理投票權限

#### 投票搜尋
```
/vote_search [關鍵字]
```
可搜尋：
- 投票標題
- 創建者
- 標籤
- 日期範圍

#### 投票歷史
```
/vote_history [時間範圍]
```
查看：
- 已結束的投票
- 參與統計
- 結果分析

### 📈 投票分析

系統提供豐富的投票分析功能：

#### 參與度分析
- 投票參與率趨勢
- 用戶活躍度分析
- 最受歡迎的投票主題

#### 結果分析
- 投票結果分佈
- 意見分歧程度
- 決策效果追蹤

---

## 🎲 抽獎系統使用指南

抽獎系統讓您輕鬆舉辦各種抽獎活動，支援靈活的參與條件和自動開獎。

### 🎯 抽獎類型

#### 1. 簡單抽獎
- 基本的隨機抽選
- 設定中獎人數
- 自動開獎

#### 2. 條件抽獎
- 角色限制
- 帳號年齡要求
- 伺服器停留時間
- 特定行為要求

#### 3. 階梯獎品抽獎
- 多個獎品等級
- 不同中獎機率
- 獎品價值排序

### 🎪 創建抽獎

#### 快速創建抽獎
```
/create_lottery_quick
```
使用互動式表單：
1. **抽獎名稱** - 吸引人的活動標題
2. **獎品描述** - 詳細說明獎品內容
3. **中獎人數** - 1-50人
4. **持續時間** - 1-168小時
5. **參與條件** - 設定參與資格

#### 抽獎管理面板
```
/lottery_panel
```
提供完整的抽獎管理功能：
- 創建新抽獎
- 編輯進行中的抽獎
- 查看參與統計
- 手動開獎

### 🎟️ 參與抽獎

#### 查看可用抽獎
```
/lottery_list
```
顯示：
- 所有進行中的抽獎
- 獎品資訊
- 剩餘時間
- 參與人數
- 參與資格

#### 參與抽獎
```
/join_lottery [抽獎ID]
```
系統會自動檢查：
- 參與資格
- 是否已參與
- 抽獎是否仍在進行

#### 退出抽獎
```
/leave_lottery [抽獎ID]
```
在抽獎結束前可以隨時退出。

#### 查看抽獎詳情
```
/lottery_info [抽獎ID]
```
顯示：
- 詳細獎品資訊
- 參與條件
- 目前參與人數
- 開獎時間

### 🏆 中獎與領獎

#### 自動開獎流程
1. **時間到達時自動開獎**
2. **隨機選出中獎者**
3. **公佈中獎結果**
4. **通知中獎者**
5. **記錄中獎歷史**

#### 中獎通知
中獎者會收到：
- Discord 私人訊息通知
- 公開頻道@提及
- 中獎詳情和領獎資訊

### 📊 抽獎統計

#### 查看抽獎統計
```
/lottery_stats [天數]
```
包含：
- 舉辦的抽獎總數
- 參與者統計
- 中獎率分析
- 最受歡迎的獎品

#### 個人抽獎歷史
```
/my_lottery_history
```
顯示：
- 參與過的抽獎
- 中獎記錄
- 參與統計
- 幸運值分析

---

## 🤖 AI 輔助功能使用指南

AI 功能提供智能化的客服輔助，幫助提升服務效率和品質。

### 🧠 核心 AI 功能

#### 1. 智能回覆建議
```
/ai_suggest
```
在票券頻道中使用，AI 會分析：
- 用戶問題內容
- 歷史類似案例
- 最佳實踐方案
- 推薦回覆模板

**AI 建議包含：**
- 3-5個推薦回覆選項
- 每個回覆的適用情況
- 預期解決效果評估
- 相關資源連結

#### 2. 智能優先級評估
```
/ai_priority
```
AI 自動分析票券並評估：
- **緊急程度判斷** - 基於關鍵字和語境
- **影響範圍評估** - 判斷問題影響的用戶數量
- **複雜度分析** - 評估解決難度和時間
- **資源需求** - 預估所需的技術支援等級

#### 3. 智能標籤推薦
```
/ai_tags
```
AI 會分析票券內容並推薦：
- 問題分類標籤
- 優先級標籤
- 部門歸屬標籤
- 技能要求標籤

### 🔧 AI 管理功能

#### AI 系統管理
```
!ai
```
管理員可以：
- 查看 AI 使用統計
- 調整 AI 敏感度設定
- 管理自訂提示詞
- 訓練自訂模型

#### AI 學習與優化
系統會持續學習：
- 客服回覆效果
- 用戶滿意度反饋
- 問題解決成功率
- 標籤準確度

### 📊 AI 效果分析

#### AI 使用統計
- AI 建議採用率
- 準確度分析
- 效率提升指標
- 用戶滿意度影響

---

## ⚙️ 工作流程系統使用指南

工作流程系統提供可視化的自動化解決方案，讓您輕鬆設計和執行複雜的業務流程。

### 🎯 工作流程概念

#### 流程組件
1. **觸發器 (Triggers)** - 啟動流程的事件
2. **條件 (Conditions)** - 流程分支判斷
3. **動作 (Actions)** - 執行的具體操作
4. **延遲 (Delays)** - 時間等待
5. **通知 (Notifications)** - 訊息發送

#### 觸發器類型
- **票券事件** - 票券創建、更新、關閉
- **時間觸發** - 定時執行、週期執行
- **用戶行為** - 加入伺服器、角色變更
- **外部 API** - Webhook 接收
- **系統事件** - 錯誤發生、資源告警

### 🔨 創建工作流程

#### 基本流程創建
```
/workflow_create
```
引導式創建流程：
1. **選擇觸發器** - 決定何時啟動
2. **設定條件** - 定義執行條件
3. **配置動作** - 設定要執行的操作
4. **測試流程** - 驗證流程邏輯
5. **啟用流程** - 開始自動執行

#### 使用流程模板
```
/workflow_template
```
內建模板：
- **新用戶歡迎流程** - 自動發送歡迎訊息和角色分配
- **票券升級流程** - 未回覆票券自動升級優先級
- **定期報告流程** - 自動生成和發送統計報告
- **異常警告流程** - 系統異常自動通知管理員

### 📊 流程管理

#### 查看流程列表
```
/workflow_list
```
顯示：
- 所有已創建的工作流程
- 執行狀態（啟用/停用）
- 最後執行時間
- 執行成功率

#### 流程執行狀態
```
/workflow_status [流程ID]
```
查看：
- 當前執行進度
- 執行歷史記錄
- 錯誤日誌
- 性能統計

#### 手動執行流程
```
/workflow_execute [流程ID]
```
用於：
- 測試流程
- 緊急執行
- 故障排除

### 🔄 流程控制

#### 啟用/停用流程
```
/workflow_toggle [流程ID]
```
可以：
- 暫停有問題的流程
- 啟用新設計的流程
- 季節性啟用特定流程

#### 流程統計
```
/workflow_stats
```
分析：
- 執行次數和頻率
- 成功率和失敗原因
- 資源使用情況
- 效益評估

### 🎯 常用流程示例

#### 1. 自動票券分配流程
```
觸發：新票券創建
條件：票券類型 = "技術支援"
動作：分配給技術團隊 + 設定優先級 + 發送通知
```

#### 2. 滿意度追蹤流程
```
觸發：票券關閉
延遲：24小時後
動作：發送滿意度調查 + 記錄回覆
```

#### 3. 升級警告流程
```
觸發：票券創建後 4小時
條件：票券狀態 = "待處理"
動作：通知管理員 + 升級優先級
```

---

## 🔗 Webhook 整合使用指南

Webhook 系統讓您輕鬆整合第三方服務，實現系統間的即時數據交換。

### 🎯 Webhook 基本概念

#### Webhook 類型
1. **入站 Webhook** - 接收外部系統的數據
2. **出站 Webhook** - 向外部系統發送數據
3. **雙向 Webhook** - 同時支援收發數據

#### 支援的事件
- 票券生命週期事件
- 投票結果變更
- 用戶行為事件
- 系統狀態變更
- 自訂業務事件

### 🔨 創建和配置 Webhook

#### 創建新 Webhook
```
/webhook_create
```
配置項目：
1. **Webhook 名稱** - 便於識別的名稱
2. **目標 URL** - 外部系統的接收端點
3. **觸發事件** - 選擇要監聽的事件
4. **資料格式** - JSON/XML/Form
5. **認證方式** - API Key/JWT/Basic Auth
6. **重試策略** - 失敗重試次數和間隔

#### 查看 Webhook 列表
```
/webhook_list
```
顯示：
- 已配置的所有 Webhook
- 狀態（啟用/停用）
- 最後觸發時間
- 成功率統計

#### Webhook 配置管理
```
/webhook_config [Webhook_ID]
```
可以：
- 修改觸發條件
- 更新目標 URL
- 調整資料格式
- 設定過濾條件

### 🧪 測試和監控

#### 測試 Webhook
```
/webhook_test [Webhook_ID]
```
執行：
- 發送測試數據
- 驗證連接性
- 檢查回應格式
- 確認認證有效性

#### Webhook 統計
```
/webhook_stats [Webhook_ID]
```
包含：
- 觸發次數統計
- 成功/失敗率
- 平均回應時間
- 錯誤原因分析

### 📊 常用整合示例

#### 1. Slack 通知整合
```json
{
  "event": "ticket_created",
  "url": "https://hooks.slack.com/...",
  "format": "slack",
  "message": "新票券: {ticket_title} 由 {user} 創建"
}
```

#### 2. Trello 卡片同步
```json
{
  "event": "ticket_assigned",
  "url": "https://api.trello.com/...",
  "action": "create_card",
  "board_id": "board123",
  "list_id": "list456"
}
```

#### 3. 客戶關係管理（CRM）同步
```json
{
  "event": "ticket_closed",
  "url": "https://api.yourcrm.com/tickets",
  "method": "PUT",
  "auth": "api_key",
  "data": {
    "ticket_id": "{ticket_id}",
    "status": "closed",
    "satisfaction": "{rating}"
  }
}
```

---

## 📊 分析儀表板使用指南

分析儀表板提供豐富的數據視覺化和深度分析功能，幫助您全面了解系統運行狀況。

### 🎯 儀表板類型

#### 1. 系統概覽儀表板
```
/dashboard_overview [天數]
```
提供：
- 系統整體健康狀況
- 關鍵指標摘要
- 趨勢分析圖表
- 異常警告提醒

#### 2. 性能分析儀表板
```
/dashboard_performance [天數]
```
分析：
- 系統回應時間
- 資源使用情況
- 併發處理能力
- 效能瓶頸識別

#### 3. 智能預測儀表板
```
/dashboard_prediction [天數]
```
預測：
- 未來工作負載
- 資源需求預測
- 趨勢分析預警
- 容量規劃建議

#### 4. 即時狀態儀表板
```
/dashboard_realtime
```
即時顯示：
- 當前系統狀態
- 活躍用戶數量
- 正在處理的事務
- 即時性能指標

### 📊 核心分析指標

#### 票券系統指標
- **創建率** - 每小時/每天新票券數
- **解決率** - 票券解決百分比
- **回應時間** - 首次回應和解決時間
- **滿意度** - 用戶評分統計
- **積壓量** - 待處理票券數量

#### 用戶行為指標
- **活躍度** - 日活躍用戶數 (DAU)
- **參與度** - 功能使用頻率
- **滿意度** - 服務品質評分
- **留存率** - 用戶回訪率

#### 系統性能指標
- **CPU 使用率** - 處理器負載
- **內存使用率** - 記憶體占用
- **回應時間** - API 平均回應時間
- **錯誤率** - 系統錯誤百分比

### 📈 高級分析功能

#### 趨勢分析
- 歷史數據對比
- 季節性模式識別
- 異常值檢測
- 預測模型建立

#### 相關性分析
- 指標間關係分析
- 影響因素識別
- 優化建議生成
- 決策支援報告

#### 分群分析
- 用戶行為分群
- 問題類型分類
- 客服績效分級
- 服務品質分層

### 🎛️ 儀表板管理

#### 快取管理
```
/dashboard_cache
```
功能：
- 清除快取數據
- 重新整理報告
- 調整快取策略
- 優化載入速度

#### 自訂報告
可以建立：
- 定期自動報告
- 特定指標監控
- 異常狀況警告
- 趨勢預測報告

---

## 🌍 多語言系統使用指南

多語言系統讓用戶可以使用自己熟悉的語言與系統互動。

### 🎯 支援語言

- 🇹🇼 **繁體中文** (Traditional Chinese)
- 🇨🇳 **簡體中文** (Simplified Chinese) 
- 🇺🇸 **英文** (English)
- 🇯🇵 **日文** (Japanese)
- 🇰🇷 **韓文** (Korean)

### 🔧 語言設定

#### 查看當前語言
```
/my_language
```
顯示：
- 目前使用的語言
- 系統預設語言
- 可用語言列表

#### 設定語言偏好
```
/set_language [語言代碼]
```
語言代碼：
- `zh-TW` - 繁體中文
- `zh-CN` - 簡體中文
- `en` - 英文
- `ja` - 日文
- `ko` - 韓文

#### 重置語言設定
```
/reset_language
```
將語言設定重置為系統預設。

### 🌐 多語言功能

#### 自動語言檢測
系統會根據以下方式自動判斷語言：
1. 用戶個人語言設定
2. Discord 客戶端語言
3. 伺服器預設語言
4. 系統預設語言

#### 語言切換
用戶可以隨時切換語言，所有訊息會立即更新為新語言。

#### 混合語言支援
在多語言環境中，系統可以：
- 保持原訊息語言
- 提供翻譯選項
- 自動檢測語言切換

---

## 🔧 系統管理使用指南

系統管理功能提供完整的後台管理和維護工具。

### 🎯 基本管理功能

#### 系統管理面板
```
/admin
```
提供：
- 系統狀態概覽
- 快速管理入口
- 常用功能連結
- 緊急操作按鈕

#### 系統狀態檢查
```
/system_status
```
顯示：
- 系統整體健康狀況
- 各模組運行狀態
- 資料庫連接狀態
- 外部服務狀態

### 📊 儀表板管理

#### 基礎系統儀表板
```
/basic_dashboard
```
包含：
- Bot 基本資訊
- 伺服器統計
- 擴展模組狀態
- 指令使用統計

### 💾 資料管理

#### 資料庫管理
```
/database [動作]
```
支援動作：
- `health` - 健康檢查
- `cleanup` - 資料清理
- `reindex` - 重建索引
- `stats` - 統計資訊

#### 系統備份
```
/backup [類型] [格式]
```
備份類型：
- `all` - 完整備份
- `tickets` - 票券資料
- `votes` - 投票資料
- `statistics` - 統計資料

### 🔍 系統診斷

#### Bot 狀態檢查
```
!botstatus
```
僅限 Bot 擁有者，顯示：
- Bot 整體運行狀況
- 資源使用情況
- 連接狀態
- 錯誤統計

#### 完整健康檢查
```
!healthcheck
```
執行全面的系統檢查：
- 所有模組狀態
- 資料庫連接
- 外部服務連接
- 性能指標

---

## 🌐 Web 介面使用指南

Web 介面提供現代化的管理體驗，支援所有主要功能的網頁操作。

### 🔐 登入與認證

#### 設定 Web 密碼
```
/setup-web-password password:[您的密碼]
```
- 密碼至少 6 個字元
- 建議使用複雜密碼
- 密碼會加密存儲

#### Web 登入資訊
```
/web-login-info
```
顯示：
- Web 介面網址
- 您的登入資訊
- API 金鑰狀態
- 權限等級

### 🔑 API 金鑰管理

#### 創建 API 金鑰
```
/create-api-key name:[應用名稱]
```
- 為不同應用建立專用金鑰
- 自動設定適當權限
- 提供安全的程式化存取

#### 管理 API 金鑰
```
/list-api-keys     # 查看所有金鑰
/revoke-api-key    # 撤銷金鑰
```

### 🌐 Web 功能特色

#### 響應式設計
- 完美支援手機、平板、桌面
- 暗色/亮色主題切換
- 直覺的使用者介面

#### 即時更新
- WebSocket 即時資料同步
- 無需重新整理頁面
- 即時通知和警告

#### 豐富的圖表
- 互動式資料視覺化
- 可匯出的報表
- 自訂時間範圍分析

---

## 🔐 認證與權限管理

### 👥 權限層級系統

#### 1. Bot 擁有者
- 完全系統控制權
- 所有指令和功能
- 系統維護和配置

#### 2. 管理員 (Admin)
需要 Discord 角色：`管理員`、`Admin`、`Owner`
- 系統管理功能
- 用戶權限管理
- 高級配置選項

#### 3. 客服 (Staff)
需要 Discord 角色：`客服`、`Staff`、`Support`、`Moderator`
- 票券處理
- 統計查看
- API 金鑰創建

#### 4. 一般用戶
- 基本票券操作
- 參與投票和抽獎
- 查看個人資料

### 🔧 權限管理最佳實踐

#### 角色設定建議
1. **創建專用角色** - 為不同職責創建專門角色
2. **最小權限原則** - 僅授予必要權限
3. **定期審查** - 定期檢查和更新權限
4. **文檔記錄** - 記錄權限分配原因

#### 安全建議
- 定期更換 API 金鑰
- 監控異常登入行為
- 啟用雙重認證（如可用）
- 限制敏感操作的IP範圍

---

## ❓ 常見問題與故障排除

### 🔧 常見問題

#### Q: 指令沒有回應怎麼辦？
A: 
1. 檢查 Bot 是否在線
2. 確認您有執行權限
3. 嘗試使用 `/system_status` 檢查系統狀態

#### Q: 如何重置我的語言設定？
A: 使用 `/reset_language` 指令

#### Q: 忘記 Web 登入密碼怎麼辦？
A: 使用 `/setup-web-password` 重新設定

#### Q: 為什麼我看不到某些指令？
A: 指令會根據您的權限等級顯示，請確認您的角色權限

### 🚨 緊急情況處理

#### 系統異常
1. 使用 `!healthcheck` 診斷問題
2. 檢查系統日誌
3. 聯絡系統管理員

#### 資料丟失
1. 立即停止相關操作
2. 聯絡管理員
3. 使用最近的備份恢復

---

## 📞 技術支援

如需協助，請：

1. **查閱文檔** - 先查看本手冊和指令說明
2. **使用幫助指令** - `/ticket_help`, `/vote_result help` 等
3. **創建支援票券** - 使用票券系統報告問題
4. **查看系統狀態** - 使用 `/system_status` 檢查系統

**緊急聯絡方式：**
- Discord 管理員頻道
- 系統管理員私人訊息
- 官方技術支援信箱

---

**📝 手冊版本：** v2.1.0  
**🕒 最後更新：** 2025-08-11  
**📋 總頁數：** 約 50 頁

*本手冊持續更新中，如有疑問或建議，歡迎透過票券系統回報！*