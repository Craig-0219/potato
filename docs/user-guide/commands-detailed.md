# ğŸ® Potato Bot æŒ‡ä»¤æ‰‹å†Š

å®Œæ•´çš„ Discord æ©Ÿå™¨äººæŒ‡ä»¤åˆ—è¡¨å’Œ REST API ç«¯é»æ–‡æª”ã€‚

## ğŸ“‹ ç›®éŒ„

- [Discord æŒ‡ä»¤](#discord-æŒ‡ä»¤)
  - [ç¥¨åˆ¸ç³»çµ±](#ç¥¨åˆ¸ç³»çµ±)
  - [æŠ•ç¥¨ç³»çµ±](#æŠ•ç¥¨ç³»çµ±)
  - [æŠ½çç³»çµ±](#æŠ½çç³»çµ±)
  - [AI ç³»çµ±](#ai-ç³»çµ±)
  - [å·¥ä½œæµç¨‹ç³»çµ±](#å·¥ä½œæµç¨‹ç³»çµ±)
  - [Webhook ç³»çµ±](#webhook-ç³»çµ±)
  - [ç³»çµ±ç®¡ç†èˆ‡å„€è¡¨æ¿](#ç³»çµ±ç®¡ç†èˆ‡å„€è¡¨æ¿)
  - [èªè¨€è¨­å®š](#èªè¨€è¨­å®š)
  - [Web èªè­‰](#web-èªè­‰)
- [æ–‡å­—æŒ‡ä»¤](#æ–‡å­—æŒ‡ä»¤)
- [REST API ç«¯é»](#rest-api-ç«¯é»)
  - [èªè­‰ API](#èªè­‰-api)
  - [ç¥¨åˆ¸ç®¡ç† API](#ç¥¨åˆ¸ç®¡ç†-api)
  - [çµ±è¨ˆåˆ†æ API](#çµ±è¨ˆåˆ†æ-api)
- [æ¬Šé™èªªæ˜](#æ¬Šé™èªªæ˜)
- [ä½¿ç”¨ç¯„ä¾‹](#ä½¿ç”¨ç¯„ä¾‹)

## Discord æŒ‡ä»¤

### ç¥¨åˆ¸ç³»çµ±

#### åŸºæœ¬ç¥¨åˆ¸æ“ä½œ

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/close` | é—œé–‰ç¥¨åˆ¸ | æ‰€æœ‰äºº |
| `/tickets` | æŸ¥çœ‹ç¥¨åˆ¸åˆ—è¡¨ | å®¢æœ+ |
| `/tickets_test` | æ¸¬è©¦ç¥¨åˆ¸åˆ—è¡¨æŒ‡ä»¤ | ç®¡ç†å“¡ |
| `/ticket_info` | æŸ¥çœ‹ç¥¨åˆ¸è³‡è¨Š | å®¢æœ+ |
| `/realtime_stats` | æŸ¥çœ‹å¯¦æ™‚çµ±è¨ˆ | å®¢æœ+ |

#### ç¥¨åˆ¸ç®¡ç†èˆ‡æ¨™ç±¤

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/add_tag` | ç‚ºç¥¨åˆ¸æ·»åŠ æ¨™ç±¤ | å®¢æœ+ |
| `/set_priority` | è¨­å®šç¥¨åˆ¸å„ªå…ˆç´š | å®¢æœ+ |

#### AI å¢å¼·åŠŸèƒ½

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/ai_priority` | ç‚ºç•¶å‰ç¥¨åˆ¸ç²å– AI å„ªå…ˆç´šè©•ä¼° | å®¢æœ+ |
| `/ai_suggest` | ç‚ºç•¶å‰ç¥¨åˆ¸ç²å– AI æ™ºèƒ½å›è¦†å»ºè­° | å®¢æœ+ |
| `/ai_tags` | ç‚ºç•¶å‰ç¥¨åˆ¸ç²å– AI æ¨™ç±¤å»ºè­° | å®¢æœ+ |

### æŠ•ç¥¨ç³»çµ±

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/vote` | é–‹å§‹å»ºç«‹ä¸€å€‹æŠ•ç¥¨ | å®¢æœ+ |
| `/votes` | æŸ¥çœ‹ç›®å‰é€²è¡Œä¸­çš„æŠ•ç¥¨ | æ‰€æœ‰äºº |
| `/vote_detail` | æŸ¥çœ‹ç‰¹å®šæŠ•ç¥¨çš„è©³ç´°è³‡è¨Š | æ‰€æœ‰äºº |
| `/vote_history` | æŸ¥çœ‹æŠ•ç¥¨æ­·å²è¨˜éŒ„ | å®¢æœ+ |
| `/vote_result` | æŸ¥è©¢æŠ•ç¥¨çµæœ | æ‰€æœ‰äºº |
| `/vote_search` | æœå°‹æŠ•ç¥¨ | å®¢æœ+ |
| `/vote_open` | è£œç™¼äº’å‹•å¼æŠ•ç¥¨ UI (é™ç®¡ç†å“¡) | ç®¡ç†å“¡ |
| `/vote_debug` | è¨ºæ–·æŠ•ç¥¨ç³»çµ±å•é¡Œï¼ˆç®¡ç†å“¡ç”¨ï¼‰ | ç®¡ç†å“¡ |
| `/my_votes` | æŸ¥çœ‹æˆ‘åƒèˆ‡éçš„æŠ•ç¥¨ | æ‰€æœ‰äºº |

### æŠ½çç³»çµ±

#### æŠ½çç®¡ç†

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/create_lottery` | å‰µå»ºæ–°çš„æŠ½çæ´»å‹• (å‚³çµ±æŒ‡ä»¤) | ç®¡ç†è¨Šæ¯+ |
| `/create_lottery_quick` | å¿«é€Ÿå‰µå»ºæŠ½ç (ä½¿ç”¨äº’å‹•å¼è¡¨å–®) | ç®¡ç†è¨Šæ¯+ |
| `/end_lottery` | æå‰çµæŸæŠ½ç | ç®¡ç†è¨Šæ¯+ |
| `/lottery_panel` | æ‰“é–‹æŠ½çç®¡ç†é¢æ¿ | ç®¡ç†è¨Šæ¯+ |

#### æŠ½çåƒèˆ‡

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/join_lottery` | åƒèˆ‡æŠ½ç | æ‰€æœ‰äºº |
| `/leave_lottery` | é€€å‡ºæŠ½ç | æ‰€æœ‰äºº |
| `/lottery_list` | æŸ¥çœ‹é€²è¡Œä¸­çš„æŠ½çåˆ—è¡¨ | æ‰€æœ‰äºº |
| `/lottery_info` | æŸ¥çœ‹æŠ½çè³‡è¨Š | æ‰€æœ‰äºº |
| `/my_lottery_history` | æŸ¥çœ‹æˆ‘çš„æŠ½çåƒèˆ‡æ­·å² | æ‰€æœ‰äºº |

#### æŠ½ççµ±è¨ˆ

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/lottery_stats` | æŸ¥çœ‹æŠ½ççµ±è¨ˆ | ç®¡ç†è¨Šæ¯+ |

### AI ç³»çµ±

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/ai_priority` | ç‚ºç•¶å‰ç¥¨åˆ¸ç²å– AI å„ªå…ˆç´šè©•ä¼° | å®¢æœ+ |
| `/ai_suggest` | ç‚ºç•¶å‰ç¥¨åˆ¸ç²å– AI æ™ºèƒ½å›è¦†å»ºè­° | å®¢æœ+ |
| `/ai_tags` | ç‚ºç•¶å‰ç¥¨åˆ¸ç²å– AI æ¨™ç±¤å»ºè­° | å®¢æœ+ |

### å·¥ä½œæµç¨‹ç³»çµ±

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/workflow_create` | å‰µå»ºæ–°çš„å·¥ä½œæµç¨‹ | ç®¡ç†å“¡ |
| `/workflow_list` | æŸ¥çœ‹å·¥ä½œæµç¨‹åˆ—è¡¨ | å®¢æœ+ |
| `/workflow_execute` | æ‰‹å‹•åŸ·è¡Œå·¥ä½œæµç¨‹ | å®¢æœ+ |
| `/workflow_status` | æŸ¥çœ‹å·¥ä½œæµç¨‹åŸ·è¡Œç‹€æ…‹ | å®¢æœ+ |
| `/workflow_template` | å‰µå»ºå·¥ä½œæµç¨‹æ¨¡æ¿ | ç®¡ç†å“¡ |
| `/workflow_toggle` | å•Ÿç”¨/åœç”¨å·¥ä½œæµç¨‹ | ç®¡ç†å“¡ |
| `/workflow_stats` | æŸ¥çœ‹å·¥ä½œæµç¨‹çµ±è¨ˆ | ç®¡ç†å“¡ |

### Webhook ç³»çµ±

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/webhook_create` | å‰µå»ºæ–°çš„Webhook | ç®¡ç†å“¡ |
| `/webhook_list` | æŸ¥çœ‹Webhookåˆ—è¡¨ | å®¢æœ+ |
| `/webhook_config` | é…ç½®Webhookè¨­å®š | ç®¡ç†å“¡ |
| `/webhook_test` | æ¸¬è©¦Webhook | ç®¡ç†å“¡ |
| `/webhook_delete` | åˆªé™¤Webhook | ç®¡ç†å“¡ |
| `/webhook_stats` | æŸ¥çœ‹Webhookçµ±è¨ˆ | ç®¡ç†å“¡ |

### ç³»çµ±ç®¡ç†èˆ‡å„€è¡¨æ¿

#### åŸºæœ¬ç®¡ç†

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/admin` | æ‰“é–‹ç³»çµ±ç®¡ç†é¢æ¿ | ç®¡ç†å“¡ |
| `/basic_dashboard` | æŸ¥çœ‹åŸºç¤ç³»çµ±å„€è¡¨æ¿ | å®¢æœ+ |
| `/system_status` | æŸ¥çœ‹ç³»çµ±æ•´é«”ç‹€æ…‹ | ç®¡ç†å“¡ |
| `/vote_admin` | æŠ•ç¥¨ç³»çµ±ç®¡ç†é¢æ¿ | å®¢æœ+ |

#### é«˜ç´šåˆ†æå„€è¡¨æ¿

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/dashboard_overview` | æŸ¥çœ‹ç³»çµ±æ¦‚è¦½å„€è¡¨æ¿ | ç®¡ç†ä¼ºæœå™¨+ |
| `/dashboard_performance` | æŸ¥çœ‹ç³»çµ±æ€§èƒ½åˆ†æå„€è¡¨æ¿ | ç®¡ç†ä¼ºæœå™¨+ |
| `/dashboard_prediction` | æŸ¥çœ‹æ™ºèƒ½é æ¸¬åˆ†æå„€è¡¨æ¿ | ç®¡ç†ä¼ºæœå™¨+ |
| `/dashboard_realtime` | æŸ¥çœ‹å¯¦æ™‚ç³»çµ±ç‹€æ…‹ | ç®¡ç†ä¼ºæœå™¨+ |
| `/dashboard_cache` | ç®¡ç†å„€è¡¨æ¿å¿«å– | ç®¡ç†å“¡ |

#### è³‡æ–™ç®¡ç†

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/backup` | åŸ·è¡Œç³»çµ±è³‡æ–™å‚™ä»½ | ç®¡ç†å“¡ |
| `/database` | è³‡æ–™åº«ç®¡ç†é¢æ¿ | ç®¡ç†å“¡ |

### èªè¨€è¨­å®š

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/my_language` | æŸ¥çœ‹æ‚¨çš„èªè¨€è¨­å®š | æ‰€æœ‰äºº |
| `/set_language` | è¨­å®šæ‚¨çš„èªè¨€åå¥½ | æ‰€æœ‰äºº |
| `/reset_language` | é‡ç½®æ‚¨çš„èªè¨€è¨­å®š | æ‰€æœ‰äºº |

### Web èªè­‰

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `/setup-web-password` | è¨­å®š Web ä»‹é¢ç™»å…¥å¯†ç¢¼ | æ‰€æœ‰äºº |
| `/create-api-key` | å‰µå»º API é‡‘é‘° | å®¢æœ+ |
| `/list-api-keys` | åˆ—å‡ºæˆ‘çš„ API é‡‘é‘° | å®¢æœ+ |
| `/revoke-api-key` | æ’¤éŠ· API é‡‘é‘° | å®¢æœ+ |
| `/web-login-info` | é¡¯ç¤º Web ç™»å…¥è³‡è¨Š | æ‰€æœ‰äºº |

## æ–‡å­—æŒ‡ä»¤

### ç¥¨åˆ¸ç³»çµ±æ–‡å­—æŒ‡ä»¤

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `!setup_ticket` | å»ºç«‹ç¥¨åˆ¸é¢æ¿ | ç®¡ç†å“¡ |
| `!set_ticket_category` | è¨­å®šç¥¨åˆ¸åˆ†é¡é »é“ | ç®¡ç†å“¡ |
| `!ticket_settings` | æŸ¥çœ‹ç›®å‰ç¥¨åˆ¸ç³»çµ±è¨­å®š | ç®¡ç†å“¡ |
| `!ticket_test` | æ¸¬è©¦ç¥¨åˆ¸ç³»çµ±æ˜¯å¦æ­£å¸¸é‹ä½œ | ç®¡ç†å“¡ |
| `!ticket_help` | é¡¯ç¤ºç¥¨åˆ¸ç³»çµ±æŒ‡ä»¤èªªæ˜ | æ‰€æœ‰äºº |

#### ç¥¨åˆ¸æŒ‡æ´¾èˆ‡ç®¡ç†

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `!assign_ticket` | æ‰‹å‹•æŒ‡æ´¾ç¥¨åˆ¸çµ¦å®¢æœäººå“¡ | å®¢æœ+ |
| `!auto_assign` | è‡ªå‹•æŒ‡æ´¾ç¥¨åˆ¸ | å®¢æœ+ |
| `!staff_workload` | æŸ¥çœ‹å®¢æœå·¥ä½œé‡ | å®¢æœ+ |
| `!add_specialty` | è¨­å®šå®¢æœå°ˆç²¾ | å®¢æœ+ |
| `!assignment_stats` | æŸ¥çœ‹æŒ‡æ´¾çµ±è¨ˆ | å®¢æœ+ |

#### çµ±è¨ˆèˆ‡æ¨™ç±¤

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `!dashboard` | é¡¯ç¤ºç¥¨åˆ¸ç³»çµ±çµ±è¨ˆé¢æ¿ | å®¢æœ+ |
| `!priority_stats` | æŸ¥çœ‹å„ªå…ˆç´šçµ±è¨ˆ | å®¢æœ+ |
| `!report` | ç”Ÿæˆçµ±è¨ˆæ‘˜è¦å ±å‘Š | å®¢æœ+ |
| `!tag` | æ¨™ç±¤ç®¡ç†æŒ‡ä»¤ç¾¤çµ„ | å®¢æœ+ |

### ç³»çµ±ç®¡ç†æ–‡å­—æŒ‡ä»¤

| æŒ‡ä»¤ | æè¿° | æ¬Šé™ |
|------|------|------|
| `!botstatus` | Bot æ•´é«”ç‹€æ…‹ | Bot æ“æœ‰è€… |
| `!healthcheck` | å®Œæ•´å¥åº·æª¢æŸ¥ | Bot æ“æœ‰è€… |
| `!welcome` | æ­¡è¿ç³»çµ±ç®¡ç†æŒ‡ä»¤ç¾¤çµ„ | ç®¡ç†å“¡ |
| `!language` | èªè¨€ç³»çµ±ç®¡ç†æŒ‡ä»¤ç¾¤çµ„ | ç®¡ç†å“¡ |
| `!ai` | AI ç³»çµ±ç®¡ç†æŒ‡ä»¤ç¾¤çµ„ | ç®¡ç†å“¡ |

## REST API ç«¯é»

### èªè­‰ API

#### POST `/auth/login`
**ç”¨æˆ¶ç™»å…¥**

```json
è«‹æ±‚é«”:
{
  "discord_id": "123456789",
  "password": "user_password"
}

å›æ‡‰:
{
  "access_token": "jwt_token",
  "token_type": "bearer",
  "expires_in": 3600,
  "user": {
    "discord_id": "123456789",
    "username": "ä½¿ç”¨è€…åç¨±",
    "is_staff": true,
    "guild_id": 987654321
  }
}
```

#### POST `/auth/refresh`
**åˆ·æ–°ä»¤ç‰Œ**

```json
è«‹æ±‚é«”:
{
  "refresh_token": "refresh_token"
}
```

#### POST `/auth/logout`
**ç”¨æˆ¶ç™»å‡º**

```json
è«‹æ±‚æ¨™é ­:
Authorization: Bearer <token>
```

### ç¥¨åˆ¸ç®¡ç† API

#### GET `/tickets`
**ç²å–ç¥¨åˆ¸åˆ—è¡¨**

```
æŸ¥è©¢åƒæ•¸:
- page: é ç¢¼ (é è¨­: 1)
- per_page: æ¯é æ•¸é‡ (é è¨­: 20, æœ€å¤§: 100)
- status: ç‹€æ…‹ç¯©é¸ (open, in_progress, pending, resolved, closed)
- priority: å„ªå…ˆç´šç¯©é¸ (low, medium, high, urgent)
- assigned_to: æŒ‡æ´¾äºº ID
- search: æœå°‹é—œéµå­—

å›æ‡‰:
{
  "tickets": [ç¥¨åˆ¸åˆ—è¡¨],
  "total": 100,
  "page": 1,
  "per_page": 20,
  "has_next": true,
  "has_prev": false
}
```

#### GET `/tickets/{id}`
**ç²å–ç¥¨åˆ¸è©³æƒ…**

```
è·¯å¾‘åƒæ•¸:
- id: ç¥¨åˆ¸ ID

å›æ‡‰:
{
  "id": 1,
  "title": "ç¥¨åˆ¸æ¨™é¡Œ",
  "description": "ç¥¨åˆ¸æè¿°",
  "status": "open",
  "priority": "medium",
  "created_at": "2025-08-10T12:00:00Z",
  ...
}
```

#### POST `/tickets`
**å‰µå»ºæ–°ç¥¨åˆ¸**

```json
è«‹æ±‚é«”:
{
  "title": "ç¥¨åˆ¸æ¨™é¡Œ",
  "description": "è©³ç´°æè¿°",
  "ticket_type": "general",
  "priority": "medium"
}
```

#### PUT `/tickets/{id}`
**æ›´æ–°ç¥¨åˆ¸**

```json
è«‹æ±‚é«”:
{
  "title": "æ–°æ¨™é¡Œ",
  "description": "æ–°æè¿°", 
  "status": "in_progress",
  "priority": "high",
  "assigned_to": 456
}
```

#### DELETE `/tickets/{id}`
**åˆªé™¤ç¥¨åˆ¸**

åŸ·è¡Œè»Ÿåˆªé™¤ï¼Œå°‡ç‹€æ…‹è¨­ç‚º `deleted`

#### POST `/tickets/{id}/assign`
**æŒ‡æ´¾ç¥¨åˆ¸**

```json
è«‹æ±‚é«”:
{
  "assigned_to": 456
}
```

#### POST `/tickets/{id}/close`
**é—œé–‰ç¥¨åˆ¸**

```json
è«‹æ±‚é«”:
{
  "reason": "å•é¡Œå·²è§£æ±º"
}
```

#### POST `/tickets/{id}/rate`
**è©•åˆ†ç¥¨åˆ¸**

```json
è«‹æ±‚é«”:
{
  "rating": 5,
  "feedback": "æœå‹™å¾ˆå¥½"
}
```

### çµ±è¨ˆåˆ†æ API

#### GET `/tickets/stats/overview`
**ç¥¨åˆ¸çµ±è¨ˆæ¦‚è¦½**

```json
å›æ‡‰:
{
  "total_tickets": 500,
  "open_tickets": 45,
  "closed_tickets": 455,
  "in_progress_tickets": 23,
  "avg_resolution_time": 2.5,
  "avg_rating": 4.2
}
```

#### GET `/tickets/stats/daily`
**æ¯æ—¥çµ±è¨ˆ**

```
æŸ¥è©¢åƒæ•¸:
- days: çµ±è¨ˆå¤©æ•¸ (1-90, é è¨­: 30)

å›æ‡‰:
{
  "period": "æœ€è¿‘ 30 å¤©",
  "data": [
    {"date": "2025-08-10", "created": 5, "closed": 3, "pending": 2},
    {"date": "2025-08-09", "created": 3, "closed": 4, "pending": 1}
  ]
}
```

#### GET `/health`
**ç³»çµ±å¥åº·æª¢æŸ¥**

```json
å›æ‡‰:
{
  "status": "healthy",
  "timestamp": "2025-08-10T12:00:00Z",
  "services": {
    "auth": "healthy",
    "monitoring": "healthy", 
    "realtime_sync": "healthy"
  },
  "metrics": {
    "active_tickets": 45,
    "system_health_score": 95
  }
}
```

## æ¬Šé™èªªæ˜

### æ¬Šé™å±¤ç´š

| å±¤ç´š | æè¿° | åŒ…å«æ¬Šé™ |
|------|------|----------|
| **ç®¡ç†å“¡** | å®Œæ•´ç³»çµ±ç®¡ç†æ¬Šé™ | æ‰€æœ‰æŒ‡ä»¤å’Œ API |
| **å®¢æœ** | ç¥¨åˆ¸è™•ç†å’Œçµ±è¨ˆæ¬Šé™ | ç¥¨åˆ¸ç®¡ç†ã€çµ±è¨ˆæŸ¥çœ‹ã€API é‡‘é‘° |
| **ä¸€èˆ¬ç”¨æˆ¶** | åŸºæœ¬ç¥¨åˆ¸æ“ä½œ | å‰µå»ºç¥¨åˆ¸ã€æŸ¥çœ‹è‡ªå·±çš„ç¥¨åˆ¸ã€è©•åˆ† |

### API èªè­‰æ–¹å¼

#### 1. JWT ä»¤ç‰Œèªè­‰
```
Authorization: Bearer <jwt_token>
```
- ç”¨æ–¼ Web ä»‹é¢ç™»å…¥
- æœ‰æ•ˆæœŸï¼š1 å°æ™‚
- æ”¯æ´è‡ªå‹•åˆ·æ–°

#### 2. API é‡‘é‘°èªè­‰  
```
Authorization: Bearer <key_id>.<secret>
```
- ç”¨æ–¼ç¨‹å¼åŒ–è¨ªå•
- é•·æœŸæœ‰æ•ˆ
- å¯éš¨æ™‚æ’¤éŠ·

#### 3. æœƒè©±ä»¤ç‰Œ
```
Authorization: Bearer <session_token>
```
- ç”¨æ–¼æŒä¹…æœƒè©±
- æ”¯æ´è¨˜ä½ç™»å…¥ç‹€æ…‹

## ä½¿ç”¨ç¯„ä¾‹

### Discord æŒ‡ä»¤ç¯„ä¾‹

```
# å‰µå»ºæŠ€è¡“æ”¯æ´ç¥¨åˆ¸
/ticket é¡å‹:technical æ¨™é¡Œ:ç¶²ç«™ç„¡æ³•ç™»å…¥ æè¿°:æˆ‘ç„¡æ³•ç™»å…¥å®˜ç¶²ï¼Œé¡¯ç¤ºå¯†ç¢¼éŒ¯èª¤

# è¨­å®šç¥¨åˆ¸å„ªå…ˆç´š
/priority_set ticket_id:1234 å„ªå…ˆç´š:high

# æŸ¥çœ‹çµ±è¨ˆæ•¸æ“š
/ticket_stats æ™‚é–“ç¯„åœ:æœ¬æœˆ

# è¨­å®š Web å¯†ç¢¼
/setup-web-password password:mySecurePassword123

# å‰µå»º API é‡‘é‘°
/create-api-key name:æˆ‘çš„æ‡‰ç”¨ç¨‹å¼
```

### API è«‹æ±‚ç¯„ä¾‹

#### ç™»å…¥ä¸¦ç²å–ä»¤ç‰Œ
```bash
curl -X POST http://localhost:8001/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "discord_id": "123456789",
    "password": "myPassword"
  }'
```

#### ç²å–ç¥¨åˆ¸åˆ—è¡¨
```bash
curl -X GET "http://localhost:8001/tickets?status=open&page=1" \
  -H "Authorization: Bearer your_jwt_token"
```

#### å‰µå»ºæ–°ç¥¨åˆ¸
```bash
curl -X POST http://localhost:8001/tickets \
  -H "Authorization: Bearer your_jwt_token" \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ç¶²ç«™å•é¡Œ",
    "description": "ç™»å…¥é é¢è¼‰å…¥ç·©æ…¢",
    "priority": "medium",
    "ticket_type": "technical"
  }'
```

#### æ›´æ–°ç¥¨åˆ¸ç‹€æ…‹
```bash
curl -X PUT http://localhost:8001/tickets/1234 \
  -H "Authorization: Bearer your_jwt_token" \
  -H "Content-Type: application/json" \
  -d '{
    "status": "in_progress",
    "assigned_to": 456
  }'
```

### JavaScript SDK ç¯„ä¾‹

```javascript
// åˆå§‹åŒ– API å®¢æˆ¶ç«¯
const apiClient = new PotatoBotAPI({
  baseURL: 'http://localhost:8001',
  apiKey: 'your_api_key'
});

// ç™»å…¥
const { token } = await apiClient.auth.login({
  discord_id: '123456789',
  password: 'password'
});

// ç²å–ç¥¨åˆ¸
const tickets = await apiClient.tickets.list({
  status: 'open',
  page: 1,
  per_page: 20
});

// å‰µå»ºç¥¨åˆ¸
const newTicket = await apiClient.tickets.create({
  title: 'æ–°å•é¡Œ',
  description: 'è©³ç´°æè¿°',
  priority: 'high'
});

// æ›´æ–°ç¥¨åˆ¸
await apiClient.tickets.update(newTicket.id, {
  status: 'resolved'
});
```

## éŒ¯èª¤è™•ç†

### å¸¸è¦‹éŒ¯èª¤ç¢¼

| ç‹€æ…‹ç¢¼ | éŒ¯èª¤ | æè¿° |
|--------|------|------|
| 400 | Bad Request | è«‹æ±‚åƒæ•¸éŒ¯èª¤ |
| 401 | Unauthorized | æœªèªè­‰æˆ–ä»¤ç‰Œç„¡æ•ˆ |
| 403 | Forbidden | æ¬Šé™ä¸è¶³ |
| 404 | Not Found | è³‡æºä¸å­˜åœ¨ |
| 429 | Too Many Requests | è«‹æ±‚éæ–¼é »ç¹ |
| 500 | Internal Server Error | æœå‹™å™¨å…§éƒ¨éŒ¯èª¤ |

### éŒ¯èª¤å›æ‡‰æ ¼å¼

```json
{
  "error": "éŒ¯èª¤æè¿°",
  "status_code": 400,
  "path": "/tickets",
  "method": "POST"
}
```

## é–‹ç™¼å·¥å…·

### API æ–‡æª”
- **Swagger UI**: http://localhost:8001/docs
- **OpenAPI Schema**: http://localhost:8001/openapi.json

### æ¸¬è©¦å·¥å…·
- **å¥åº·æª¢æŸ¥**: http://localhost:8001/health
- **ç³»çµ±ç‹€æ…‹**: `/system_status` æŒ‡ä»¤

### ç›£æ§ç«¯é»
- **ç³»çµ±æŒ‡æ¨™**: http://localhost:8001/metrics
- **å³æ™‚ç‹€æ…‹**: WebSocket `ws://localhost:8001/ws`

---

## ğŸ“ æŠ€è¡“æ”¯æ´

å¦‚æœ‰å•é¡Œè«‹ä½¿ç”¨ï¼š
- Discord æŒ‡ä»¤ï¼š`/ticket_help`
- API æ–‡æª”ï¼šhttp://localhost:8001/docs
- å¥åº·æª¢æŸ¥ï¼šhttp://localhost:8001/health

**ğŸ“ æœ€å¾Œæ›´æ–°ï¼š2025-08-11**

## ğŸ”§ æŒ‡ä»¤ä½¿ç”¨æç¤º

### Discord æŒ‡ä»¤å‰ç¶´
- **æ–œç·šæŒ‡ä»¤ (`/`)** - æ‰€æœ‰ç¾ä»£æŒ‡ä»¤ï¼Œæ”¯æ´è‡ªå‹•å®Œæˆå’Œåƒæ•¸æç¤º
- **æ–‡å­—æŒ‡ä»¤ (`!`)** - å‚³çµ±æŒ‡ä»¤ï¼Œä¸»è¦ç”¨æ–¼é«˜ç´šç®¡ç†åŠŸèƒ½

### æ¬Šé™å±¤ç´šèªªæ˜
- **æ‰€æœ‰äºº** - ç„¡ç‰¹æ®Šæ¬Šé™è¦æ±‚
- **å®¢æœ+** - éœ€è¦å®¢æœæˆ–ç®¡ç†å“¡è§’è‰²
- **ç®¡ç†ä¼ºæœå™¨+** - éœ€è¦ç®¡ç†ä¼ºæœå™¨æ¬Šé™
- **ç®¡ç†å“¡** - éœ€è¦ç®¡ç†å“¡è§’è‰²
- **Bot æ“æœ‰è€…** - åƒ… Bot æ“æœ‰è€…å¯ç”¨

### å¿«é€ŸæŒ‡ä»¤ç´¢å¼•

**å¸¸ç”¨ç¥¨åˆ¸æŒ‡ä»¤ï¼š**
- `/tickets` - æŸ¥çœ‹ç¥¨åˆ¸åˆ—è¡¨
- `/close` - é—œé–‰ç¥¨åˆ¸
- `/add_tag` - æ·»åŠ æ¨™ç±¤
- `/set_priority` - è¨­å®šå„ªå…ˆç´š

**ç®¡ç†åŠŸèƒ½ï¼š**
- `/admin` - ç³»çµ±ç®¡ç†é¢æ¿
- `/basic_dashboard` - åŸºç¤å„€è¡¨æ¿
- `/system_status` - ç³»çµ±ç‹€æ…‹

**æŠ•ç¥¨åŠŸèƒ½ï¼š**
- `/vote` - å‰µå»ºæŠ•ç¥¨
- `/votes` - æŸ¥çœ‹æŠ•ç¥¨

**æŠ½çåŠŸèƒ½ï¼š**
- `/create_lottery_quick` - å¿«é€Ÿå‰µå»ºæŠ½ç
- `/join_lottery` - åƒèˆ‡æŠ½ç

**AI è¼”åŠ©ï¼š**
- `/ai_suggest` - AI å›è¦†å»ºè­°
- `/ai_priority` - AI å„ªå…ˆç´šè©•ä¼°

## ğŸ“ æ›´æ–°èªªæ˜

### v2.1.0 (2025-08-11) - åŠŸèƒ½å®Œæ•´ç‰ˆ

**ğŸ†• æ–°å¢åŠŸèƒ½ï¼š**
- âœ… å®Œæ•´çš„æ–œç·šæŒ‡ä»¤ç³»çµ± (58+ æŒ‡ä»¤)
- âœ… AI å¢å¼·ç¥¨åˆ¸è™•ç†ç³»çµ±
- âœ… é«˜ç´šåˆ†æå„€è¡¨æ¿ç³»çµ±
- âœ… å·¥ä½œæµç¨‹è‡ªå‹•åŒ–ç³»çµ±
- âœ… Webhook æ•´åˆç³»çµ±
- âœ… å¤šèªè¨€æ”¯æ´ç³»çµ±
- âœ… æŠ½çç³»çµ±å®Œæ•´åŠŸèƒ½

**ğŸ”§ ç³»çµ±ä¿®å¾©ï¼š**
- ä¿®å¾©è³‡æ–™åº«å¥åº·æª¢æŸ¥é¡¯ç¤ºç•°å¸¸
- ä¿®å¾©æŠ½çè³‡æ–™è¡¨ç¼ºå¤±å•é¡Œ
- ä¿®å¾© DashboardManager ç¼ºå°‘æ–¹æ³•
- ä¿®å¾© Discord äº’å‹•è¶…æ™‚å•é¡Œ
- ä¿®å¾© API æ¬Šé™è¦å‰‡å’Œèªè­‰ç³»çµ±

**âœ¨ ç³»çµ±æ”¹é€²ï¼š**
- çµ±ä¸€çš„äº’å‹•è¶…æ™‚è™•ç†æ©Ÿåˆ¶
- æ”¹é€²çš„è³‡æ–™åº«æ¸…ç†ç­–ç•¥
- å¢å¼·çš„éŒ¯èª¤è™•ç†å’Œæ—¥èªŒè¨˜éŒ„
- å„ªåŒ–çš„ REST API èªè­‰ç³»çµ±

**ğŸ“Š ç³»çµ±æª¢æ¸¬ï¼š**
- æ ¸å¿ƒç³»çµ±å®Œæ•´æ€§ï¼šâœ… 100%
- æŒ‡ä»¤ç³»çµ±å¯ç”¨æ€§ï¼šâœ… 58+ æŒ‡ä»¤æ­£å¸¸
- API ç³»çµ±ç©©å®šæ€§ï¼šâœ… å®Œæ•´åŠŸèƒ½
- è³‡æ–™åº«å¥åº·ç‹€æ…‹ï¼šâœ… æ‰€æœ‰è¡¨æ ¼æ­£å¸¸
- æ•´é«”ç³»çµ±ç©©å®šæ€§ï¼šâœ… ç”Ÿç”¢å°±ç·’